---
description:
globs:
alwaysApply: true
---
# Cursor Rules for BNB Trading System

## üéØ Project Type
Simple, modular BNB swing trading system with technical analysis. Target: **75%+ accuracy**.

## üöÄ Core Principles
- **Keep it simple** - no over-engineering
- **Modular design** - each indicator in separate file
- **Configuration-driven** - all parameters in config.toml
- **Easy to tune** - change settings without touching code

## üìä Architecture
```
bnb_trading/
‚îú‚îÄ‚îÄ config.toml              # ALL PARAMETERS HERE
‚îú‚îÄ‚îÄ main.py                  # Entry point
‚îú‚îÄ‚îÄ data_fetcher.py          # Binance API with ccxt
‚îú‚îÄ‚îÄ fibonacci.py             # Fib calculations (separate module)
‚îú‚îÄ‚îÄ weekly_tails.py          # Weekly wick analysis (separate module)  
‚îú‚îÄ‚îÄ indicators.py            # RSI, MACD, BB (ta-lib)
‚îú‚îÄ‚îÄ signal_generator.py      # Combines all signals
‚îú‚îÄ‚îÄ validator.py             # Tracks accuracy
‚îî‚îÄ‚îÄ results.csv              # Signal history
```

## üîß Code Standards
- Python 3.8+ with type hints
- Use pandas, numpy, ccxt, ta-lib
- Handle NaN with `np.nan_to_num()`
- Log all operations
- Try/catch for API calls
- Save everything in CSV for analysis

## üìà Signal Priority (from config)
1. **Fibonacci levels** - primary signals
2. **Weekly tails** - confirmation signals
3. **MACD** - trend confirmation
4. **Technical indicators** - supporting signals

## üéØ Trading Signals Philosophy

### ‚úÖ –£–°–ü–ï–• –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ —Å–∏–≥–Ω–∞–ª–∏!
**LONG —Å–∏–≥–Ω–∞–ª–∏:**
- **–£—Å–ø–µ—Ö –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ LONG —Å–∏–≥–Ω–∞–ª–∏** - —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ
- **–¢—Ä—è–±–≤–∞ –¥–∞ –∑–∞–ø–∞–∑–∏–º –≤–∏—Å–æ–∫–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç** - —Ü–µ–ª 100% –∑–∞ LONG —Å–∏–≥–Ω–∞–ª–∏
- **LONG —Å–∏–≥–Ω–∞–ª–∏—Ç–µ —Å–∞ –æ—Å–Ω–æ–≤–∞—Ç–∞** - —Ç–µ –Ω–æ—Å—è—Ç –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –ø–µ—á–∞–ª–±–∞

**SHORT —Å–∏–≥–Ω–∞–ª–∏:**
- **–£—Å–ø–µ—Ö –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ SHORT —Å–∏–≥–Ω–∞–ª–∏** - —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ
- **–ò—Å—Ç–∏–Ω—Å–∫–∏—è—Ç —É—Å–ø–µ—Ö –µ –ø–µ—á–µ–ª–∏–≤—à–∏ SHORT —Å–∏–≥–Ω–∞–ª–∏** - —Å–∏–≥–Ω–∞–ª–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –≤–æ–¥—è—Ç –¥–æ –ø–µ—á–∞–ª–±–∞
- **–¶–µ–ª: –°–∞–º–æ 1 –ø–µ—á–µ–ª–∏–≤—à SHORT —Å–∏–≥–Ω–∞–ª** - –ø–æ-–¥–æ–±—Ä–µ 1 –ø–µ—á–µ–ª–∏–≤—à –æ—Ç–∫–æ–ª–∫–æ—Ç–æ 100 –≥—É–±–µ—â–∏
- **–ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ** - —Ñ–æ–∫—É—Å–∏—Ä–∞–º–µ —Å–µ –≤—ä—Ä—Ö—É accuracy, –Ω–µ –≤—ä—Ä—Ö—É –±—Ä–æ–π —Å–∏–≥–Ω–∞–ª–∏

### üîç –ó–∞—â–æ —Å–∏–≥–Ω–∞–ª–∏—Ç–µ —Å–∞ –≤–∞–∂–Ω–∏:
**LONG —Å–∏–≥–Ω–∞–ª–∏:**
- **–û—Å–Ω–æ–≤–Ω–∞ –ø–µ—á–∞–ª–±–∞** - –≤ bull markets –Ω–æ—Å—è—Ç –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç
- **–ù–∏—Å—ä–∫ —Ä–∏—Å–∫** - —Å–ª–µ–¥–≤–∞—Ç —Ç—Ä–µ–Ω–¥–∞ –Ω–∞–≥–æ—Ä–µ
- **–í–∏—Å–æ–∫–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç** - –ª–µ—Å–Ω–∏ –∑–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–∞–Ω–µ –≤ —Å–∏–ª–Ω–∏ —Ç—Ä–µ–Ω–¥–æ–≤–µ

**SHORT —Å–∏–≥–Ω–∞–ª–∏:**
- **–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** - LONG + SHORT —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞–º–∞–ª—è–≤–∞ risk
- **Bull/Bear market –∞–¥–∞–ø—Ç–∞—Ü–∏—è** - SHORT –ø–µ—á–µ–ª–∏ –∫–æ–≥–∞—Ç–æ –ø–∞–∑–∞—Ä–∞ –ø–∞–¥–∞
- **Complete trading system** - –∏—Å—Ç–∏–Ω—Å–∫–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –º–æ–∂–µ –∏ –¥–≤–∞—Ç–∞ –ø–æ—Å–æ–∫–∏

### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ –£—Å–ø–µ—Ö:

**LONG —Å–∏–≥–Ω–∞–ª–∏:**
- **Accuracy > 95%** - –ø–æ—á—Ç–∏ –≤—Å–∏—á–∫–∏ LONG —Å–∏–≥–Ω–∞–ª–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ —É—Å–ø–µ—à–Ω–∏
- **Profit Factor > 2.0** - –≤–∏—Å–æ–∫–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç
- **Max Drawdown < 10%** - –º–∏–Ω–∏–º–∞–ª–Ω–∏ –∑–∞–≥—É–±–∏

**SHORT —Å–∏–≥–Ω–∞–ª–∏:**
- **Accuracy > 50%** - –ø–æ–≤–µ—á–µ –ø–µ—á–µ–ª–∏–≤—à–∏ –æ—Ç –≥—É–±–µ—â–∏
- **Profit Factor > 1.0** - –±—Ä—É—Ç–Ω–∞ –ø–µ—á–∞–ª–±–∞ > –±—Ä—É—Ç–Ω–∞ –∑–∞–≥—É–±–∞
- **Max Drawdown < 20%** - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞–Ω–∞ –≤–æ–ª–∞—Ç–∏–ª–Ω–æ—Å—Ç
- **Sharpe Ratio > 0.5** - –¥–æ–±—Ä–∞ risk-adjusted –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç

### üöÄ –°–ª–µ–¥–≤–∞—â–∏ –°—Ç—ä–ø–∫–∏:
1. **–ó–∞–ø–∞–∑–≤–∞–º–µ LONG —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç** - –Ω–µ –∑–∞—Å—Ç—Ä–∞—à–∞–≤–∞–º–µ —Ä–∞–±–æ—Ç–µ—â–∏—Ç–µ LONG —Å–∏–≥–Ω–∞–ª–∏
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–º–µ SHORT —Ñ–∏–ª—Ç—Ä–∏—Ç–µ** - –∑–∞ –ø–æ-–≤–∏—Å–æ–∫–∞ accuracy –Ω–∞ SHORT
3. **–ö–∞–ª–∏–±—Ä–∏—Ä–∞–º–µ —Ç–µ–≥–ª–∞—Ç–∞** - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏—Ç–µ
4. **–î–æ–±–∞–≤–∏–º risk management** - –∑–∞ SHORT –ø–æ–∑–∏—Ü–∏–∏
5. **–¢–µ—Å—Ç–≤–∞–Ω–µ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ** - —Å –º–∞–ª–∫–∏ –ø–æ–∑–∏—Ü–∏–∏

## üö´ –ó–∞–±—Ä–∞–Ω—è–≤–∞ —Å–µ
- **–•–∞—Ä–¥–∫–æ–¥–Ω–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏ –¥–∞–Ω–Ω–∏** - –Ω–µ –ø—Ä–∞–≤–∏ DataFrame —Å —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
- **–¢–µ—Å—Ç–æ–≤–∏ —Å–∏–≥–Ω–∞–ª–∏** - –Ω–µ –ø—Ä–∞–≤–∏ dummy —Å–∏–≥–Ω–∞–ª–∏ –∑–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ
- **–°–∏–º—É–ª–∏—Ä–∞–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏** - –Ω–µ –ø—Ä–∞–≤–∏ fake –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–¢–µ—Å—Ç–æ–≤–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –≤—Å–∏—á–∫–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –≤ config.toml

## ‚úÖ –ü—Ä–∞–≤–∏–ª–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ
- **main.py** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ —Ç–æ—á–∫–∞ –∑–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
- **–†–µ–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏** - –æ—Ç Binance API —á—Ä–µ–∑ ccxt
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≤—Å–∏—á–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ config.toml
- **–õ–æ–≥–≤–∞–Ω–µ** - –≤—Å–∏—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–µ –∑–∞–ø–∏—Å–≤–∞—Ç –≤ –ª–æ–≥ —Ñ–∞–π–ª–æ–≤–µ