# BNB Trading System - –°–∏–≥–Ω–∞–ª–∏ –∏ –ê–Ω–∞–ª–∏–∑

## üéØ –û–±—â –ü—Ä–µ–≥–ª–µ–¥

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∑–∞ —Ç—ä—Ä–≥–æ–≤–∏—è —Å BNB –µ –º–æ–¥—É–ª–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –≤–∏—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–∏ trading —Å–∏–≥–Ω–∞–ª–∏. –û—Å–Ω–æ–≤–Ω–∏—è—Ç —Ñ–æ–∫—É—Å –µ –≤—ä—Ä—Ö—É **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑** —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –∏ –∑–∞—â–∏—Ç–Ω–∏ —Ñ–∏–ª—Ç—Ä–∏.

### üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
bnb_trading/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–µ–Ω entry point
‚îú‚îÄ‚îÄ config.toml          # –í—Å–∏—á–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∏ —Ç–µ–≥–ª–∞
‚îú‚îÄ‚îÄ data_fetcher.py      # Binance API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ signal_generator.py  # –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Å–∏–≥–Ω–∞–ª–∏
‚îú‚îÄ‚îÄ backtester.py        # –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îú‚îÄ‚îÄ weekly_tails.py      # –ê–Ω–∞–ª–∏–∑ –Ω–∞ weekly tails
‚îú‚îÄ‚îÄ fibonacci.py         # Fibonacci –Ω–∏–≤–∞
‚îî‚îÄ‚îÄ indicators.py        # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏
```

## üîç –ö–∞–∫ –ó–∞—Å–∏—á–∞–º–µ –°–∏–≥–Ω–∞–ª–∏—Ç–µ

### 1. **Fibonacci –ê–Ω–∞–ª–∏–∑** (–¢–µ–≥–ª–æ: 25%)
```python
# –û—Å–Ω–æ–≤–Ω–∏ –Ω–∏–≤–∞: 0.382, 0.618
# –ê–Ω–∞–ª–∏–∑–∏—Ä–∞–º–µ –ø–æ–¥–∫—Ä–µ–ø–∞/—Å—ä–ø—Ä–æ—Ç–∏–≤–∞
fib_signal = analyze_fibonacci_levels(price, levels)
```

**–ö–æ–≥–∞ –¥–∞–≤–∞ —Å–∏–≥–Ω–∞–ª:**
- –¶–µ–Ω–∞ –±–ª–∏–∑–æ –¥–æ 38.2% –∏–ª–∏ 61.8% –Ω–∏–≤–æ
- –°–∏–ª–µ–Ω bounce –æ—Ç –Ω–∏–≤–æ—Ç–æ
- –ö–æ–Ω—Ñ–ª—É–µ–Ω—Ü–∏—è —Å –¥—Ä—É–≥–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏

### 2. **Weekly Tails –ê–Ω–∞–ª–∏–∑** (–¢–µ–≥–ª–æ: 30%)
```python
# –ê–Ω–∞–ª–∏–∑–∏—Ä–∞–º–µ —Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ –Ω–∞ —Å–≤–µ—â–∏
# –¢—ä—Ä—Å–∏–º –≥–æ–ª–µ–º–∏ upper/lower tails
tails_signal = analyze_weekly_tails(candles, strength_threshold=0.8)
```

**–ö–æ–≥–∞ –¥–∞–≤–∞ SHORT —Å–∏–≥–Ω–∞–ª:**
- –î–æ–º–∏–Ω–∞–Ω—Ç–Ω–∏ SHORT –æ–ø–∞—à–∫–∏ (—Å–∏–ª–∞ > 0.99)
- –¶–µ–Ω–∞ –≤ –≥–æ—Ä–Ω–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- Bearish momentum

**–ö–æ–≥–∞ –¥–∞–≤–∞ LONG —Å–∏–≥–Ω–∞–ª:**
- –î–æ–º–∏–Ω–∞–Ω—Ç–Ω–∏ LONG –æ–ø–∞—à–∫–∏
- –¶–µ–Ω–∞ –≤ –¥–æ–ª–Ω–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- Bullish momentum

### 3. **Moving Averages** (–¢–µ–≥–ª–æ: 20%)
```python
# –ê–Ω–∞–ª–∏–∑–∏—Ä–∞–º–µ crossovers –Ω–∞ EMA20/EMA50
ma_signal = analyze_ma_crossovers(price, ema20, ema50)
```

**–î–∏–Ω–∞–º–∏—á–Ω–æ —Ç–µ–≥–ª–æ:**
- **–ù–æ—Ä–º–∞–ª–Ω–æ —Ç–µ–≥–ª–æ:** 20%
- **–ù–∞–º–∞–ª–µ–Ω–æ —Ç–µ–≥–ª–æ:** 12% (–∫–æ–≥–∞—Ç–æ Weekly Tails –¥–∞–≤–∞—Ç —Å–∏–ª–µ–Ω SHORT)

### 4. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏** (–¢–µ–≥–ª–æ: 15%)
```python
rsi_signal = analyze_rsi(price, period=14)
macd_signal = analyze_macd(price, fast=8, slow=17, signal=9)
bb_signal = analyze_bollinger(price, period=20, std=2.0)
```

## üé≤ –õ–æ–≥–∏–∫–∞ –∑–∞ –ö–æ–º–±–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –°–∏–≥–Ω–∞–ª–∏

### –°–∏—Å—Ç–µ–º–∞ –Ω–∞ –¢–µ–≥–ª–∞
```python
signal_scores = {'LONG': 0.0, 'SHORT': 0.0, 'HOLD': 0.0}

# 1. Fibonacci —Å–∏–≥–Ω–∞–ª
fib_score = fib_strength * 0.25
signal_scores[fib_signal] += fib_score

# 2. Weekly Tails —Å–∏–≥–Ω–∞–ª
tails_score = tails_strength * 0.30
signal_scores[tails_signal] += tails_score

# 3. Moving Averages (–¥–∏–Ω–∞–º–∏—á–Ω–æ —Ç–µ–≥–ª–æ)
ma_weight = 0.20 if no_conflict else 0.12
ma_score = ma_confidence * ma_weight
signal_scores[ma_signal] += ma_score

# 4. –§–∏–Ω–∞–ª–µ–Ω —Å–∏–≥–Ω–∞–ª
final_signal = max(signal_scores, key=signal_scores.get)
```

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç –†–µ–∑–æ–ª—é—Ü–∏—è
```python
# –ê–∫–æ Weekly Tails –ø–æ–∫–∞–∑–≤–∞—Ç —Å–∏–ª–µ–Ω SHORT (>0.8 —Å–∏–ª–∞)
# –Ω–∞–º–∞–ª—è–≤–∞–º–µ —Ç–µ–≥–ª–æ—Ç–æ –Ω–∞ Moving Averages —Å 40%
if weekly_tails_signal == 'SHORT' and tails_strength > 0.8:
    ma_weight *= 0.6  # 20% ‚Üí 12%
```

## üõ°Ô∏è –ó–∞—â–∏—Ç–Ω–∏ –§–∏–ª—Ç—Ä–∏

### ATH Proximity –§–∏–ª—Ç—ä—Ä
```python
# SHORT —Å–∞–º–æ –∞–∫–æ —Å–º–µ –±–ª–∏–∑–æ –¥–æ ATH (< 5% –ø–æ–¥ ATH)
if ath_distance_pct > 5.0:
    signal_scores['SHORT'] = 0.0  # –ë–ª–æ–∫–∏—Ä–∞–º–µ SHORT
```

### Trend Strength –§–∏–ª—Ç—Ä–∏
```python
# SHORT —Å–∞–º–æ –ø—Ä–∏ —Å–∏–ª–Ω–∏ downtrends
if trend_direction == 'STRONG_UPTREND':
    short_score *= 0.3  # –ù–∞–º–∞–ª—è–≤–∞–º–µ —Å 70%
```

### Signal Quality –§–∏–ª—Ç—Ä–∏
```python
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–º–µ —Å–ª–∞–± SHORT –≤ HOLD
if final_signal == 'SHORT' and confidence < 0.3:
    final_signal = 'HOLD'
```

## üìà –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ –°–∏–≥–Ω–∞–ª–∏

### –ü—Ä–∏–º–µ—Ä 1: SHORT –°–∏–≥–Ω–∞–ª (–Ø–Ω—É–∞—Ä–∏ 2025)
```
–î–∞—Ç–∞: 2025-01-13
–¶–µ–Ω–∞: $688.64

üìä –ê–Ω–∞–ª–∏–∑:
- Weekly Tails: SHORT –æ–ø–∞—à–∫–∏ (—Å–∏–ª–∞: 0.99) ‚Üí —Ç–µ–≥–ª–æ: 30%
- Moving Averages: BEARISH_BELOW ‚Üí —Ç–µ–≥–ª–æ: 12% (–Ω–∞–º–∞–ª–µ–Ω–æ!)
- RSI: 47.1 (–Ω–µ–π—Ç—Ä–∞–ª–µ–Ω)
- MACD: Bearish cross

üéØ –§–∏–Ω–∞–ª–µ–Ω —Å–∏–≥–Ω–∞–ª: SHORT (—É–≤–µ—Ä–µ–Ω–æ—Å—Ç: 0.85)
üí∞ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∞ –ø–µ—á–∞–ª–±–∞: +10.7% –¥–æ $618.65
```

### –ü—Ä–∏–º–µ—Ä 2: LONG –°–∏–≥–Ω–∞–ª (–î–µ–∫–µ–º–≤—Ä–∏ 2024)
```
–î–∞—Ç–∞: 2024-12-02
–¶–µ–Ω–∞: $647.82

üìä –ê–Ω–∞–ª–∏–∑:
- Fibonacci: 78.6% –ø–æ–¥–∫—Ä–µ–ø–∞ (—Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ: 0.99%)
- Weekly Tails: LONG –æ–ø–∞—à–∫–∏ (—Å–∏–ª–∞: 0.99)
- MACD: Bullish cross
- RSI: 56.9 (–Ω–µ–π—Ç—Ä–∞–ª–µ–Ω)

üéØ –§–∏–Ω–∞–ª–µ–Ω —Å–∏–≥–Ω–∞–ª: LONG (—É–≤–µ—Ä–µ–Ω–æ—Å—Ç: 0.96)
üí∞ –†–µ–∑—É–ª—Ç–∞—Ç: –£–°–ü–ï–• (+34.33%)
```

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ –∏ –í–∞–ª–∏–¥–∞—Ü–∏—è

### Backtesting –ü—Ä–æ—Ü–µ—Å
```bash
# –°—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ backtest –∑–∞ 18 –º–µ—Å–µ—Ü–∞
python3 backtester.py

# –†–µ–∑—É–ª—Ç–∞—Ç–∏:
üìÖ –ü–µ—Ä–∏–æ–¥: 2024-03-06 –¥–æ 2025-08-28
üìä –û–±—â–æ —Å–∏–≥–Ω–∞–ª–∏: 65
‚úÖ –£—Å–ø–µ—à–Ω–∏ —Å–∏–≥–Ω–∞–ª–∏: 65
üéØ –¢–æ—á–Ω–æ—Å—Ç: 100.0%
üìà –°—Ä–µ–¥–µ–Ω P&L: +42.14%
```

### –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –°–∏–≥–Ω–∞–ª–∏—Ç–µ
- **Confidence levels:** 0.5-5.0 (—Å –µ–º–æ—Ç–∏–∫–æ–Ω–∏)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** 14-–¥–Ω–µ–≤–µ–Ω holding period
- **Risk management:** Stop-loss —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **Market regime:** –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫—ä–º bull/bear –ø–∞–∑–∞—Ä–∏

## üéõÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∏ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ (config.toml)
```toml
[signals]
fibonacci_weight = 0.25
weekly_tails_weight = 0.30
ma_weight = 0.20
rsi_weight = 0.15
macd_weight = 0.10

[short_signals]
enabled = true
min_short_score = 70
confidence_threshold = 0.8
```

## üöÄ –ö–∞–∫ –¥–∞ –°—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ

### 1. –ë—ä—Ä–∑ –°—Ç–∞—Ä—Ç
```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–º–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∞
python3 main.py

# –ì–µ–Ω–µ—Ä–∏—Ä–∞–º–µ —Å–∏–≥–Ω–∞–ª –∑–∞ —Ç–µ–∫—É—â–∞—Ç–∞ —Å–µ–¥–º–∏—Ü–∞
python3 signal_generator.py
```

### 2. Backtesting
```bash
# –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ç–∞
python3 backtester.py

# –ê–Ω–∞–ª–∏–∑ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ
cat data/backtest_results.txt
```

### 3. Debug Mode
```bash
# –î–µ—Ç–∞–π–ª–Ω–æ –ª–æ–≥–≤–∞–Ω–µ
python3 debug_short_detailed.py
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞ –£—Å–ø–µ—Ö

### –¢–µ–∫—É—â–∏ –†–µ–∑—É–ª—Ç–∞—Ç–∏
- **–¢–æ—á–Ω–æ—Å—Ç:** 100% (65/65 —Å–∏–≥–Ω–∞–ª–∞)
- **–°—Ä–µ–¥–µ–Ω P&L:** +42.14%
- **SHORT —Å–∏–≥–Ω–∞–ª–∏:** 0 (—Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–∏ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ)
- **LONG —Å–∏–≥–Ω–∞–ª–∏:** 65 (–≤—Å–∏—á–∫–∏ —É—Å–ø–µ—à–Ω–∏)

### –¶–µ–ª–∏
- üéØ **75%+ –æ–±—â–∞ —Ç–æ—á–Ω–æ—Å—Ç**
- üìà **25%+ —Å—Ä–µ–¥–µ–Ω P&L**
- ‚ö° **<2 —Å–µ–∫—É–Ω–¥–∏** –∑–∞ –∞–Ω–∞–ª–∏–∑
- üõ°Ô∏è **100% –∑–∞—â–∏—Ç–Ω–∏ —Ñ–∏–ª—Ç—Ä–∏**

## üîß –ü–æ–¥–æ–±—Ä–µ–Ω–∏—è –∏ –§–∏—á–∏

### ‚úÖ –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–∏
- [x] ATH proximity —Ñ–∏–ª—Ç—Ä–∏
- [x] Dynamic —Ç–µ–≥–ª–∞ –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏
- [x] Weekly Tails –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞ SHORT
- [x] Moving Averages –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] Confidence scoring —Å–∏—Å—Ç–µ–º–∞

### üöß –í –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- [ ] Machine Learning –º–æ–¥–µ–ª–∏
- [ ] Sentiment –∞–Ω–∞–ª–∏–∑
- [ ] Whale tracking –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Risk management —Å–∏—Å—Ç–µ–º–∏

## üìö –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `config.toml` - –í—Å–∏—á–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- `data/backtest_results.txt` - –î–µ—Ç–∞–π–ª–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏
- `weekly_tails.py` - Weekly Tails –∞–ª–≥–æ—Ä–∏—Ç—ä–º
- `signal_generator.py` - –õ–æ–≥–∏–∫–∞ –∑–∞ —Å–∏–≥–Ω–∞–ª–∏

---

**üéØ –°–∏—Å—Ç–µ–º–∞—Ç–∞ –µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∞ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ, –Ω–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ!**